version: "3.8"
services:
    lidi-server:
        depends_on:
          - mysql
        build: .
        command: /dist/lidi-server
        ports:
          - target: 8080
            published: 8080
        networks:
          - lidi-net
          
    mysql:
        image: "mysql"
        volumes:
        - type: volume
          source: lidi-vol
          target: /var/lib/mysql
        restart: always
        networks:
          lidi-net:
        environment:
          MYSQL_ROOT_PASSWORD: password
          MYSQL_DATABASE: dictionary
          MYSQL_USER: web
          MYSQL_PASSWORD: pass

networks:
    lidi-net:

volumes:
    lidi-vol: